---
title: "[강의] Node.js - 2 Day"
excerpt_separator: "<!--more-->"
categories:
  - lecture
tags:
  - Node.js
---

지난번에 이어 '초격차 패키지 : 한 번에 끝내는 Node.js 웹 프로그래밍' 라는 fastcampus 프로그래밍 강의 내용 정리차 기록합니다.

외부 강의는 처음인데, 기존에 상세히 알지 못한 것과 대충 넘어간 것 까지 꼼꼼히 집어줘서 좋은 강의라고 생각합니다.

이번 수업에 들은 '든든한 개발 환경 설정', 'Javascript 기초 이론' 에 대해 정리 하려 합니다.
<!--more-->
### 든든한 개발 환경 설정

강좌에서는 VS Code 를 이용한 개발 환경 구성을 하고 있으나, 본인은 IntelliJ 를 사용하여 몇 가지 안 맞는 부분이 있었습니다.

- tj/n : node version 관리를 위한 cli tool
- node 설치 및 npm 사용
- IDE : Formatting, Linting - 코드 품질 및 습관을 여러 사람이 일관되게 유지할 수 있음
  - Formattion 은 소스 코드 포맷 및 컨벤션 
  - Linting 은 소스의 Best Practice 잡아주는 목적
- package.json : 프로젝트 의존성을 관리 
  - ^2.2.1 -> 실제 2.2.1 버전이 설치되지 않을 수 있다는 의미
- package-lock.json : 실제 설치된 파일 버전이 표시됨 
  - npm 은 해당 파일을 보고 package 관리
- node-modules : 프로젝트가 의존하는 패키지들 
  - .bin 실행할 수 있는 binary 지원
- Typescript 로 js 타입 에러 체크
  - 일반적으로 type check 가 진행되는 시점은 compile 과정이나, js 는 compile 이 없음 -> 실제 수향 도중에만 에러 확인 가능
    - script는 동적 타입 언어로써, 변수에 어떤 값이 할당될지 예측이 어렵다.
  - Typescript : js 에 Type 정의가 얹혀진 형태
  - @Type/node : node 에서 사용되는 Type

### Javascript 기초 이론
- js 실행 모델 : Event Loop, Call Stack, Callback Queue
- event loop 모델은 여러 스레드를 사용
  - main thread : 우리가 작성한 js 코드가 실행되는 스레드
  - 한 node.js 프로세스 에서 `메인 스레드는 하나이며, 한 순간에 한줄씩만 실행! > 동시성 이슈 해소`
  - 그러나, 그 외의 일(File I/O, networking ..)을 하는 워커 스레드는 여러개 존재
- Call Stack : 지금까지 불린 함수들의 stack
  - event loop가 다음 callback 을 처리하려면, call stack 이 비어있을때만 가능하다.
- Callback Queue : callback (함수와 인자) 들이 쌓이는 Queue
  - callback 은 브라우저나 node 가 event 발생 시 메인스레드에 이를 알려주기 위해 사용
  - event 예. 파일처리 완료, network 작업 완료, 타이머 호출 등

- 퀴즈. 콘솔에 Hey! 는 몇번 출력될까?
```javascript
setInterval(() => {
  console.log('Hey!')
  while(true) {}
}, 1000)
```
> 1초 한번씩 setInterval에 의해 console.log 를 callback queue 에 담긴다.  
> 하지만, while(true) {} 에 의해 call stack 이 비워 지지 않아, callback queue 의 함수는 실행되지 않는다.
> Event Loop Blocking

- non-blocking I/O & offloading
- 


- Javascript : Interpreter 언어 <-> 절차적 언어
- google 의 V8 Js engine 발표와 함께 Open Source 발표됨 
  - 기존 브라우저에서만 실행되던 javascript 가 Server 에서도 구동 될 수 있도록 만든 script 엔진
- express : 2010년 발표되어, node 웹서버 framework 표준으로 자리매김
- react : 2013년 발표되어, front-end trend 변화를 주도
- Babel, WebPack : 2014년 발표, 구동이 불가한 하위 브라우저 호환 가능

#### Javascript 만으로 Full Stack 개발이 가능 해졌으며, Server-Side Rendering 등의 고급 기술도 사용 가능

### Node.js 특징과 강점, 약점
#### 지금까지의 I/O 와 다르다
이벤트 루프를 이용한 비동기 처리 (callback 호출 방식)
동기 처리는 너무 많은 클럭 수를 낭비

#### 저수준의 오래걸리는 일은 Node 에게 맡기고, 고수준의 로직은 main thread 에서 처리 (offloading 방식)
- Node 가 빠른 속도와 매우 놓은 확장성을 갖는 근본적인 이유
- Single Thread 처리로 인해 동시성 이슈 해소

#### Javascript 언어 한계상 저수준(=기계어) 처리를 빠르게 처리하는 한계가 존재
- C 와 Web assembly 모듈을 바인딩해 사용하는 방법을 제공 하여 해당 한계 극복
- C 는 node-gyp, Web assembly 는 Node 12 부터 제공 하여 완벽한 최적화가 가능해짐

#### 방대한 오픈소스 생태계 (NPM - Node Package Manager)

```shell
npm install --save-dev prettier
npm install --save-dev eslint
npm install --save-dev eslint-config-airbnb-base eslint-plugin-import
npm install --save-dev eslint-config-prettier
npm install --save-dev eslint-plugin-node
npm install --save-dev typescript 
npm install --save-dev @types/node
```



### 마무리
새로운 언어를 강의를 통해 배워 보는게 너무 오랜만이라 생소할 정도이지만, 재미는 있는 것 같습니다.

그럼 이만. 🥕👋🏼🖐🏼